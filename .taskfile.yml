- name: start
  task: nodemon --experimental-modules ./example/server/index.mjs

- name: format
  task: prettier --write '{src,tests,example}/**/*.{js,css}'

- name: test/lint
  tasks:
      - eslint "{src,tests,example}/**/**.js"
      - stylelint "example/**/**.css"

- name: test/spec
  task: NODE_ENV=test nyc ava

- name: test/coverage
  task: NODE_ENV=test nyc report --reporter=text-lcov | coveralls

- name: test/integration
  task: concurrently -k -s first 'yarn start' 'testcafe chrome:headless ./tests/integration/*.js'

- name: test
  tasks:
      - taskfile test/lint
      - taskfile test/spec
      # - taskfile test/integration
